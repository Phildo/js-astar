<html>
<head>
<script type='text/javascript' src='registrationlist.js'></script>
<script type='text/javascript' src='binarytree.js'></script>
<script type='text/javascript' src='canv.js'></script>
<script type='text/javascript' src='astar.js'></script>
<script type='text/javascript'>
//var c = new Canv(500,500);
//c.canvas.style.border = "1px solid black";
//document.getElementById("canvas_container").appendChild(c.canvas);

var map;
var n = 100;

var rsx, rsy, rex, rey;

var nodes;
var path;
var it;
var tmpnode;

function doit()
{
  AStarNode.prototype.calculateH = function(node) 
  { 
    this.h = 100*(Math.abs(node.content.x-this.content.x)+Math.abs(node.content.y-this.content.y)); 
  };

  map = new Map("Test");
  nodes = map.constructGrid(n,n);
}

function getRandomPath()
{
  rsx = Math.floor(Math.random()*n);
  rsy = Math.floor(Math.random()*n);
  rex = Math.floor(Math.random()*n);
  rey = Math.floor(Math.random()*n);

  path = map.getBestPath(nodes[rsx][rsy],nodes[rex][rey]);
  it = path.getIterator();
  var str = "("+rsx+","+rsy+")->("+rex+","+rey+"):";
  while(tmpnode = it.next())
    str+="("+tmpnode.content.x+","+tmpnode.content.y+")";
  document.getElementById("results").innerHTML+=str+"<br />\n";
  path.empty();
}

window.addEventListener('load',doit,false);
</script>
</head>
<body >
  <div id="canvas_container">
  </div>
  <div id="getRandom" onclick="getRandomPath();">
  Get Random Path
  </div>
  <div id="results">
  </div>
</body>
</html>
